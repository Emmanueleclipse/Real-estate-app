
/*! notairefactures.js - Author: BienFacile, License: Bienfacile, more info: http://www.bienfacile.com/ */
notairefactures=new FeedObject('/json_notaire_factures/');notairefactures.me='notairefactures';notairefactures.all=function(a,b,c){c.isotope=false;output=[];c.wrapper='table';c.wrapper_class='table table-striped';c.childwrapper='tr';for(var d=0;d<b.length;d++){var e=b[d];html=concat_cells({'cell_open':"<td "+(e.paid!='true'?' style="background-color:red;"':'')+"><a href=\"javascript:notairefactures.modal('#modal', { title : 'Modifier facture', hidden: { id: "+e.id+" } });\">",'cell_close':'</a></td>','cells':[e.date,'#'+e.invoice_number,e.agent,e.client_name,e.property_address,showPrice(e.commission),e.notaire]});output.push({'search':e.client_name.toLowerCase()+' '+e.property_address.toLowerCase(),infinitescroll:e.infinitescroll,html:html});}this.list(a,output,c);};notairefactures.form=function(){return [[[{type:'input',field:'commission',title:'Commission','required':true}],[{type:'boolean',field:'paid',title:'Paid','default':false}],[{type:'boolean',field:'updatebank',title:'Mis a jour banque','default':true}]],[[{type:'input',field:'invoice_number',title:'Numero facture'}],[{type:'input',field:'notaire',title:'Notaire'}]],[[{type:'input',field:'client_name',title:'Nom client','required':true}],[{type:'input',field:'client_address',title:'Adresse client'}]],[[{type:'input',field:'property_address',title:'Adresse du bien','required':true}],[{type:'input',field:'other_agency',title:'Autre agence'}]],[[{type:'date',field:'date',title:'Date','required':true}],[{type:'select2',field:'agent_id',title:'Agent',options:myagency.options('fullname')}]]];};
/*! agentfactures.js - Author: BienFacile, License: Bienfacile, more info: http://www.bienfacile.com/ */
agentfactures=new FeedObject('/json_agent_factures/');agentfactures.me='agentfactures';agentfactures.all=function(a,b,c){c.isotope=false;output=[];c.wrapper='table';c.wrapper_class='table table-striped';c.childwrapper='tr';for(var d=0;d<b.length;d++){var e=b[d];html=concat_cells({'cell_open':"<td "+(e.paid!='true'?' style="background-color:red;"':'')+"><a href=\"javascript:agentfactures.modal('#modal', { title : 'Modifier facture', hidden: { id: "+e.id+" } });\">",'cell_close':'</a></td>','cells':[e.date,'#'+e.invoice_number,e.agent,e.sale,(e.commission?showPrice(e.commission):e.commission_percent+'%')]});output.push({infinitescroll:e.infinitescroll,html:html});}this.list(a,output,c);};agentfactures.form=function(){return [{type:'input',field:'invoice_number',title:'Numero facture'},[[{type:'select2',field:'agent_id',title:'Agent',options:myagency.options('fullname')}],[{type:'select2',field:'sale_id',title:'Vente',options:notairefactures.options('description')}]],[[{type:'select',field:'commission_percent',title:'Partage ',options:{'25':'25%','50':'50%'},width:3}]],[[{type:'input',field:'commission',title:'ou montant fixe'}],[{type:'boolean',field:'vat',title:'TVA inclus','default':'true'}],[{type:'boolean',field:'paid',title:'Paid','default':'false'}]],{type:'date',field:'date',title:'Date du facture',required:true}];};